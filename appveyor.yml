image: Visual Studio 2017
environment:
  OSENV: windows
  NO_PROXY: 127.0.0.1,localhost
  encryptedkey:
    secure: 8HCeZ0WW/f09cU7PgV31q14Xy46vU/2dYHnP0ZCpi/tLvVzr2gnY+BZ99S1u1cAHJNdAyRX/pp91L91KiXdh/2ZuE1fqAXcaVo2/j4VB01c=
  encryptediv:
    secure: UUs7HYg9U50gP2ryZoTtH2WaU0BhoSLBhsOIQRgHpj+oluUpXTv/O4spjDRC9qOT
  GH_TOKEN:
    secure: NotcHSDhWAss4SA/I6FAGtW73c1+qqDjlZhpX6L7CwuBVykvRMKFmLl8k+JF9A1p
  CSC_LINK:
    secure: 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
  CSC_KEY_PASSWORD:
    secure: 3nZUATUy4tdQaFirLmE5vVKDnop7K01uM3V6so9M0nxDEEEfpicfCiz2xdW4gO4y
  MM_URL:
    secure: QfAI68E/qnE7UZMvjqIQIkiMASDooWknt2psZWeawGTa8iu4cuNWd5P+ronxVphBXYAPuwEywIadwnxAj4WmIkL6rfGd/OQo1hlsNfEwYCo=
  SENTRY_DSN:
    secure: gSaaWHq0v1X7SY/HWJlmSVPmxZb/6JhO5N1bPJXLQ41JzGrP+YmGKWazLaZkrb+oGiB4Z1alNWJHK/gyBwPa8A==
  nodejs_version: 10.11.0
platform:
  - x64
init:
  - tzutil /s "UTC"
  - git config --global core.autocrlf input
cache:
  # - node_modules
  - '%LOCALAPPDATA%/Yarn'
install:
  - ps: Start-FileDownload 'http://slproweb.com/download/Win64OpenSSL-1_0_2q.exe'
  - ps: Start-Process 'Win64OpenSSL-1_0_2q.exe' -ArgumentList '/silent /verysilent /sp- /suppressmsgboxes' -Wait
  - choco install gcloudsdk
  - refreshenv
  - ps: Install-Product node $env:nodejs_version x64
  - npm config set msvs_version 2015 --global
  - set PATH=C:\Ruby22\bin;%PATH%
  - gem install sass compass
  - npm i -g yarn
  - yarn install-all
build_script:
  - echo {"dsn":"%SENTRY_DSN%"} > src\assets\data\sentry.json
  - set DEBUG=electron-builder
  - yarn dist --publish=never
test_script:
  - yarn test:unit
 # - yarn test:e2e disabling it for now as it may be leaving an electron app open and the release script cannot release because a file locked 
deploy_script:
    - if [%APPVEYOR_PULL_REQUEST_NUMBER%]==[] if [%APPVEYOR_REPO_BRANCH%]==[dev] set _tempvar=1
    - if [%APPVEYOR_PULL_REQUEST_NUMBER%]==[] if [%APPVEYOR_REPO_BRANCH%]==[release] set _tempvar=1
    - if [%APPVEYOR_PULL_REQUEST_NUMBER%]==[] if [%APPVEYOR_REPO_BRANCH%]==[nightly] set _tempvar=1

    - if defined _tempvar for /f "tokens=2 delims==" %%I in ('wmic os get localdatetime /format:list') do set datetime=%%I
    - if defined _tempvar set datetime=%datetime:~0,4%.%datetime:~4,2%.%datetime:~6,2%.%datetime:~8,2%
    - if defined _tempvar C:\OpenSSL-Win64\bin\openssl aes-256-cbc -K "%encryptedkey%" -iv "%encryptediv%" -in client-secret.json.enc -out client-secret.json -d
    - if defined _tempvar gcloud auth activate-service-account --key-file client-secret.json
    - if defined _tempvar gsutil cp dist/*.exe gs://selfkey-builds/%APPVEYOR_REPO_BRANCH%/%datetime%/
after_deploy:
    - if [%APPVEYOR_PULL_REQUEST_NUMBER%]==[] if [%APPVEYOR_REPO_BRANCH%]==[master] yarn publish-build

